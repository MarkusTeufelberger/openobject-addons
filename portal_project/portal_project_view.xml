<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

		<menuitem parent="portal.menu_portal_root" id="menu_portal" name="Portal For Project"/>

<!--    	User Form-->
    	 <record id="view_portal_users_form_simple" model="ir.ui.view">
            <field name="name">res.users.portal.form1</field>
            <field name="model">res.users</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="base.view_users_form"/>
            <field eval="18" name="priority"/>
            <field name="arch" type="xml">
                <field name="password" position="after">
                	<field name="context_project_id" />
                </field>
            </field>
        </record>

    	<record id="view_portal_users_form_simple_modif" model="ir.ui.view">
            <field name="name">res.users.portal.form.modif</field>
            <field name="model">res.users</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="base.view_users_form_simple_modif"/>
            <field eval="18" name="priority"/>
            <field name="arch" type="xml">
                <field name="password" position="after">
                	<field name="context_project_id" completion="1" readonly="0" />
                </field>
            </field>
        </record>

<!--    	Project Form-->
    	<record id="view_project_portal_form" model="ir.ui.view">
			<field name="name">project.portal.form</field>
			<field name="model">project.project</field>
			<field name="inherit_id" ref="project.edit_project"/>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<notebook colspan="4">
                     <page string="CRM">
                        <field name="section_bug_id"/>
                        <field name="section_feature_id"/>
                        <field name="section_support_id"/>
                        <field name="section_annouce_id"/>
                     </page>
				</notebook>
			</field>
		</record>

<!--		case with project-->
        <record id="portal_crm_case-view" model="ir.ui.view">
            <field name="name">crm.case.portal.form</field>
            <field name="model">crm.case</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="crm.crm_case-view"/>
            <field name="arch" type="xml">
                <field name="date" position="after">
                    <field name="project_id"/>
                </field>
            </field>
        </record>

<!--		Announce View-->
		<record model="ir.ui.view" id="crm_case_announce_tree_view">
	        <field name="name">CRM - Announce Tree</field>
	        <field name="model">crm.case</field>
	        <field name="type">tree</field>
	        <field name="arch" type="xml">
	            <tree string="Announces">
	                <field name="name"/>
	                <field name="user_id"/>
	                <field name="description"/>
	            </tree>
	        </field>
	    </record>

	    <record model="ir.ui.view" id="crm_case_announce_form_view">
	        <field name="name">CRM - Announce Form</field>
	        <field name="model">crm.case</field>
	        <field name="type">form</field>
	        <field name="arch" type="xml">
	            <form string="Announces">
                    <field name="name" string="Subject"/>
                    <field name="section_id" invisible="0"/>
                    <field name="user_id" string="Responsible"/>
                    <newline/>
                    <separator colspan="4" string="Description"/>
                    <field name="description" colspan="4" nolabel="1"/>
                </form>
            </field>
	    </record>

<!--	    Announce Menus-->
	    <menuitem parent="crm.menu_crm" id="menu_crm_case_announce" name="Announce"/>
	    <record model="ir.actions.act_window" id="crm_case_categ_announce">
	        <field name="name">All Announces</field>
	        <field name="res_model">crm.case</field>
	        <field name="view_type">form</field>
	        <field name="view_mode">tree,form</field>
	        <field name="view_id" ref="crm_case_announce_tree_view"/>
	    </record>
	    <record model="ir.actions.act_window.view" id="action_crm_tag_tree_announce">
	        <field name="sequence" eval="1"/>
	        <field name="view_mode">tree</field>
	        <field name="view_id" ref="crm_case_announce_tree_view"/>
	        <field name="act_window_id" ref="crm_case_categ_announce"/>
	    </record>
	    <record model="ir.actions.act_window.view" id="action_crm_tag_calendar_announce">
	        <field name="sequence" eval="2"/>
	        <field name="view_mode">form</field>
	        <field name="view_id" ref="crm_case_announce_form_view"/>
	        <field name="act_window_id" ref="crm_case_categ_announce"/>
	    </record>
	    <menuitem id="menu_crm_announce" parent="menu_crm_case_announce" action="crm_case_categ_announce"/>

	    <record model="ir.actions.act_window" id="crm_case_category_announce_my">
	        <field name="name">My Announces</field>
	        <field name="res_model">crm.case</field>
	        <field name="view_type">form</field>
	        <field name="view_mode">tree,form</field>
	        <field name="view_id" ref="crm_case_announce_tree_view"/>
	        <field name="domain" eval="'[(\'user_id\',\'=\',uid)]'"/>
	    </record>
	    <record model="ir.actions.act_window.view" id="crm_case_category_announce_my_tree">
	        <field name="sequence" eval="1"/>
	        <field name="view_mode">tree</field>
	        <field name="view_id" ref="crm_case_announce_tree_view"/>
	        <field name="act_window_id" ref="crm_case_category_announce_my"/>
	    </record>
	    <record model="ir.actions.act_window.view" id="crm_case_category_announce_my_form">
	        <field name="sequence" eval="3"/>
	        <field name="view_mode">form</field>
	        <field name="view_id" ref="crm_case_announce_form_view"/>
	        <field name="act_window_id" ref="crm_case_category_announce_my"/>
	    </record>
	    <menuitem parent="menu_crm_case_announce" id="menu_crm_case_category_announce_my" action="crm_case_category_announce_my"/>

	    <record model="ir.actions.act_window" id="crm_case_categ_announce_new">
	        <field name="name">New Announce</field>
	        <field name="res_model">crm.case</field>
	        <field name="view_type">form</field>
	        <field name="view_mode">form</field>
	        <field name="view_id" ref="crm_case_announce_form_view"/>
	    </record>
		<menuitem id="menu_announce_new" parent="menu_crm_case_announce" action="crm_case_categ_announce_new"/>

<!--		Wiki Page-->
		<record id="portal_view_wiki_form" model="ir.ui.view">
            <field name="name">wiki.wiki.form.inherit</field>
            <field name="model">wiki.wiki</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="wiki.view_wiki_form"/>
            <field name="arch" type="xml">
                <field name="parent_id" position="after">
                    <field name="project_id" colspan="2"/>
                </field>
            </field>
        </record>

        <record model="ir.actions.act_window" id="action_portal_project_wiki">
            <field name="name">Search a Pages</field>
            <field name="res_model">wiki.wiki</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="wiki.view_wiki_tree"/>
            <field name="domain">[('project_id','=',active_id)]</field>
        </record>

<!--		Working hours-->
		<record id="view_project_analytic_graph" model="ir.ui.view">
            <field name="name">Working hours per Day - Graph</field>
            <field name="model">account.analytic.line</field>
            <field name="type">graph</field>
            <field name="arch" type="xml">
                <graph orientation="horizontal" string="Working hours per day" type="bar">
                    <field name="date"/>
                    <field name="unit_amount" operator="+"/>
                    <field group="True" name="user_id"/>
                </graph>
            </field>
        </record>

		<record id="act_hr_timesheet_line_portal_form" model="ir.actions.act_window">
            <field name="name">Working Hours</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">account.analytic.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">graph,tree,form</field>
        </record>

<!--        Invoices-->
        <record id="act_portal_invoice_form" model="ir.actions.act_window">
            <field name="name">Invoices</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">account.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="account.invoice_tree"/>
            <field name="context">{'portal_invoice':'invoice', 'project_activeid':active_id}</field>
        </record>

<!--        Attachments-->
        <record id="act_portal_attachment_form" model="ir.actions.act_window">
            <field name="name">Attachments</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">ir.attachment</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="base.view_attachment_tree"/>
            <field name="context">{'portal_attachment':'attachment', 'project_activeid':active_id}</field>
        </record>

<!--        Financial Data-->
        <record id="act_financial_portal_form" model="ir.actions.act_window">
            <field name="name">Analytic Accounts</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">account.analytic.account</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="account.view_account_analytic_account_tree"/>
            <field name="context">{'portal_account':'financial', 'project_activeid':active_id}</field>
        </record>

<!--        Timesheet Sheet-->
		<record id="act_hr_timesheet_sheet_portal_form" model="ir.actions.act_window">
            <field name="name">Timesheets</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">hr_timesheet_sheet.sheet</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="hr_timesheet_sheet.hr_timesheet_sheet_tree"/>
            <field name="context">{'portal_sheet':'timesheet', 'project_activeid':active_id}</field>
        </record>

<!--        Bugs By State-->
        <record model="ir.ui.view" id="view_crm_bugs_graph">
            <field name="name">Bugs by State - Graph</field>
            <field name="model">report.crm.case.bugs</field>
            <field name="type">graph</field>
            <field name="arch" type="xml">
                <graph string="Bugs by State" type="pie">
                    <field name="state"/>
                    <field name="nbr" operator="+"/>
                </graph>
            </field>
        </record>
        <record model="ir.ui.view" id="view_crm_case_bugs_user_tree">
            <field name="name">report.crm.case.bugs.tree</field>
            <field name="model">report.crm.case.bugs</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Bugs by State">
                    <field name="state"/>
                    <field name="nbr" />
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="view_crm_case_bugs_user_form">
            <field name="name">report.crm.case.bugs.form</field>
            <field name="model">report.crm.case.bugs</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Bugs by State">
                    <field name="state"/>
                    <field name="nbr"/>
                    <field name="project_id"/>
                    <field name="section_id"/>
                </form>
            </field>
        </record>

        <record model="ir.actions.act_window" id="act_crm_bugs_state">
			<field name="res_model">report.crm.case.bugs</field>
			<field name="view_type">form</field>
			<field name="view_mode">graph,tree,form</field>
			<field name="view_id" ref="view_crm_bugs_graph"/>
			<field name="domain">[('project_id','=',active_id)]</field>
		</record>

<!--		Gantt Planning-->
        <record id="view_portal_account_analytic_planning_gantt" model="ir.ui.view">
            <field name="name">Portal Analytic Planning - Gantt</field>
            <field name="model">report_account_analytic.planning</field>
            <field name="type">gantt</field>
            <field name="arch" type="xml">
            	<gantt color="user_id" date_start="date_from" string="Plannings">
	            	<level object="report_account_analytic.planning" link="id" domain="[]">
	                	<field name="name"/>
                   		<field name="user_id"/>
	                </level>
	            </gantt>
            </field>
        </record>

        <record model="ir.actions.act_window" id="act_portal_account_analytic_planning">
			<field name="res_model">report_account_analytic.planning</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form,gantt</field>
			<field name="view_id" ref="project_planning.account_analytic_planning_view_tree"/>
			<field name="context">{'portal_gantt':'planning'}</field>
		</record>

<!--		Event Configuration-->
        <record model="ir.actions.act_window" id="portal_project_event_configuration_action">
	        <field name="name">Project Event Configuration</field>
	        <field name="res_model">project.event.configuration</field>
	        <field name="view_type">form</field>
	        <field name="view_mode">tree,form</field>
	        <field name="view_id" ref="project_event.project_event_configuration_tree_view"/>
	        <field name="domain">[('project_id','=',active_id)]</field>
	    </record>

<!--	    Portal Project Form-->
	    <record model="ir.ui.view" id="project_portal_form_view">
	        <field name="name">Project Form</field>
	        <field name="model">project.project</field>
	        <field name="type">form</field>
	        <field name="arch" type="xml">
	            <form string="Project">
	            	<group colspan="4">
	            		<field name="name" colspan="4"/>
	            	</group>
	            	<hpaned>
	            	<child1>
	            	<group colspan="2">
	            		<separator string="Statistics" colspan="2"/>
			            <field name="tasks_detail" colspan="2"/>
			            <field name="bugs" colspan="2"/>
				        <field name="features" colspan="2"/>
				        <field name="support_req" colspan="2"/>
				        <field name="doc" colspan="2"/>
				        <newline/>
				        <field name="announce_ids" nolabel="1" colspan="2" height="200" readonly="1">
	                		<tree string="Latests Announces" editable="top">
                                  <field name="date"/>
                                  <field name="user_id"/>
                                  <field name="name"/>
                            </tree>
                            <form string="Latests Announces">
                               <field name="name" string="Subject"/>
                                <field name="date"/>
			                    <field name="user_id" string="Responsible"/>
			                    <newline/>
                            </form>
                        </field>
                        <newline/>
                        <field name="member_ids" nolabel="1" colspan="2" height="200" readonly="1">
                  			<tree string="Members" editable="top">
                  				<field name="name"/>
                            	<field name="login"/>
	                		</tree>
	                		<form string="Members">
	                			<field name="name"/>
                            	<field name="login"/>
	                		</form>
	                	</field>
	                </group>
	                </child1>
	                <child2>
	                <group colspan="2">
			            <separator string="Shortcuts" colspan="2"/>
			            <newline/>
			            <group colspan="2" col="3">
		                <button icon="terp-partner" name="%(action_portal_project_wiki)d" string="Project Wiki" type="action"/>
		                <button icon="terp-partner" name="%(act_portal_account_analytic_planning)d" string="Gantt Planning" type="action"/>
						<button icon="terp-partner" name="%(act_hr_timesheet_sheet_portal_form)d" string="Timesheets" type="action"/>
						</group>
						<newline/>
						<group colspan="2" col="2">
							<button icon="terp-partner" name="%(act_financial_portal_form)d" string="Financial Data" type="action" groups="account.group_account_manager"/>
	                    	<button icon="terp-partner" name="%(portal_project_event_configuration_action)d" string="Configuration" type="action"/>
	                    </group>
	                </group>
	                <newline/>
                 	<field colspan="2" name="hours" string="Working hours per Day" nolabel="1" mode="graph,tree,form" readonly="1"/>
                 	<newline/>
                 	<field colspan="2" name="bugs_ids" string="Bugs by State" nolabel="1" widget="one2many_list" mode="graph,tree,form" readonly="1"/>
	                </child2>
	                </hpaned>
                </form>
            </field>
	    </record>

	    <record model="ir.ui.view" id="project_portal_tree_view">
	        <field name="name">Project Tree</field>
	        <field name="model">project.project</field>
	        <field name="type">tree</field>
	        <field name="field_parent">child_ids</field>
            <field name="arch" type="xml">
                <tree toolbar="1">
                    <field icon="icon" name="name"/>
                </tree>
            </field>
	    </record>

	    <record model="ir.actions.act_window" id="action_portal_project_task">
            <field name="name">Tasks</field>
            <field name="res_model">project.task</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="project.view_task_tree3"/>
            <field name="domain">[('project_id','=',active_id)]</field>
        </record>

<!--		Bugs By User-->
		<record model="ir.ui.view" id="view_crm_case_bugs_user">
            <field name="name">report.crm.case.bugs.form</field>
            <field name="model">report.crm.case.bugs</field>
            <field name="type">graph</field>
            <field name="arch" type="xml">
                <graph string="Bugs by User" type="bar" orientation="horizontal">
                    <field name="user_id"/>
                    <field name="nbr" operator="+"/>
                </graph>
            </field>
        </record>

        <record id="act_crm_bugs_user_form" model="ir.actions.act_window">
            <field name="name">Bugs by User</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">report.crm.case.bugs</field>
            <field name="view_type">form</field>
            <field name="view_mode">graph,tree,form</field>
            <field name="view_id" ref="view_crm_case_bugs_user"/>
            <field name="context" eval="{'bugs_user':'bug_form'}"/>
        </record>

        <record model="ir.actions.act_window" id="crm_case_categ_act_new_portal">
	        <field name="name">New Bug</field>
	        <field name="res_model">crm.case</field>
	        <field name="view_type">form</field>
	        <field name="view_mode">form,tree</field>
	        <field name="view_id" ref="crm.crm_case-view"/>
	        <field name="context" eval="{'default_state':'open'}"/>
	    </record>

	    <record id="act_crm_bug_search_form" model="ir.actions.act_window">
            <field name="name">All Bugs</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">crm.case</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'case_search':'bug'}</field>
        </record>

<!--		Portal Crm Bug Form-->
		<record id="portal_crm_bug_tree_view" model="ir.ui.view">
            <field name="name">portal.crm.bugs.tree</field>
            <field name="model">crm.case</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Bugs" >
                    <field name="name"/>
                    <field name="user_id"/>
                    <field name="section_id"/>
                    <field name="category2_id"/>
                </tree>
            </field>
        </record>

		<record model="ir.ui.view" id="portal_crm_bug_form_view">
	        <field name="name">Bugs Form</field>
	        <field name="model">crm.case</field>
	        <field name="type">form</field>
	        <field name="arch" type="xml">
	            <form string="Bugs">
					<hpaned>
						<child1>
		            	<group colspan="2">
		            		<separator string="Quick Report a New Bug" colspan="2"/>
		            		<newline/>
		            		<group colspan="2">
	            				<field name="name" string="Bug Summary" colspan="2"/>
	            				<field name="section_id" invisible="0" colspan="2"/>
	            				<field name="category2_id" colspan="2" string="Version"/>
	            			</group>
	            			<newline/>
	            			<group colspan="2">
	            				<field name="description" nolabel="1" colspan="2"/>
	            			</group>
	            			<newline/>
	            			<group col="100" colspan="2">
	            				<button name="%(crm_case_categ_act_new_portal)d" colspan="2" string="Save New Bug" type="action" />
		            		</group>
		            		<newline/>
		            		<separator string="Information" colspan="2"/>
		            		<newline/>
		            		<group colspan="2">
		            			<label align="0.0" colspan="2" string="Bugs can be reported by sending an email to the bug email gateway:"></label>
		            			<field name="email_from" readonly="1" string="EMail" colspan="2"/>
		            		</group>
			            </group>
						</child1>
		            	<child2>
		            	<group>
			            	<group colspan="2" col="2">
			            		<button name="%(crm_case_categ_act_new_portal)d" string="Report a Bug" type="action"/>
			            		<button name="%(act_crm_bug_search_form)d" string="Search a Bug" type="action"/>
			            		<newline/>
			        			<separator string="Bugs by User" colspan="2"/>
			            		<newline/>
				          		<action name="%(act_crm_bugs_user_form)d" string="Bugs by User" colspan="2" height="300"/>
							</group>
						</group>
		          		</child2>
	          		</hpaned>
	          		<group colspan="4">
            		<field name="bug_ids" nolabel="1" colspan="2" height="200" readonly="True" >
            			<tree string="Latest Bugs Reported">
            				<field name="name"/>
                            <field name="date"/>
		                    <field name="user_id" string="Responsible"/>
            			</tree>
            			<form string="Latest Bugs Reported">
                          	<field name="name"/>
                            <field name="date"/>
		                    <field name="user_id" string="Responsible"/>
                        </form>
            		</field>
            		</group>
	           	</form>
	        </field>
	    </record>

	    <record model="ir.actions.act_window" id="action_crm_bug_portal">
	        <field name="name">Bug Form</field>
	        <field name="res_model">crm.case</field>
	        <field name="view_type">form</field>
	        <field name="view_mode">tree,form</field>
	        <field name="context">{'section':'Bug Tracking'}</field>
	    </record>
	    <record model="ir.actions.act_window.view" id="action_crm_bug_portal_tree_view">
	        <field name="sequence" eval="1"/>
	        <field name="view_mode">tree</field>
	        <field name="view_id" ref="portal_crm_bug_tree_view"/>
	        <field name="act_window_id" ref="action_crm_bug_portal"/>
	    </record>
	    <record model="ir.actions.act_window.view" id="action_crm_bug_portal_form_view">
	        <field name="sequence" eval="2"/>
	        <field name="view_mode">form</field>
	        <field name="view_id" ref="portal_crm_bug_form_view"/>
	        <field name="act_window_id" ref="action_crm_bug_portal"/>
	    </record>

	    <menuitem  id="menu_view_portal_crm_bug_view" action="action_crm_bug_portal" parent="menu_portal"/>

	    <record model="ir.ui.view" id="view_crm_case_features_user">
            <field name="name">report.crm.case.features.user.graph</field>
            <field name="model">report.crm.case.features.user</field>
            <field name="type">graph</field>
            <field name="arch" type="xml">
                <graph string="Features by User" type="bar" orientation="horizontal">
                    <field name="user_id"/>
                    <field name="nbr" operator="+"/>
                </graph>
            </field>
        </record>

        <record model="ir.ui.view" id="view_crm_case_features_user_tree">
            <field name="name">report.crm.case.features.user.tree</field>
            <field name="model">report.crm.case.features.user</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Features by User">
                    <field name="user_id"/>
                    <field name="nbr"/>
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="view_crm_case_features_user_form">
            <field name="name">report.crm.case.features.user.form</field>
            <field name="model">report.crm.case.features.user</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Features by User" >
                    <field name="user_id"/>
                    <field name="nbr" />
                </form>
            </field>
        </record>

        <record id="act_crm_features_user_form" model="ir.actions.act_window">
            <field name="name">Features by User</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">report.crm.case.features.user</field>
            <field name="view_type">form</field>
            <field name="view_mode">graph,tree,form</field>
        </record>

        <record id="act_crm_feature_search_form" model="ir.actions.act_window">
            <field name="name">All Features</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">crm.case</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'case_search':'feature'}</field>
        </record>

<!--		Portal Crm Feature Form-->

		<record id="portal_crm_feature_tree_view" model="ir.ui.view">
            <field name="name">portal.crm.feature.tree</field>
            <field name="model">crm.case</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Features" >
                    <field name="name"/>
                    <field name="user_id"/>
                    <field name="section_id"/>
                    <field name="category2_id"/>
                </tree>
            </field>
        </record>

	    <record model="ir.ui.view" id="portal_crm_feature_form_view">
	        <field name="name">Feature Form</field>
	        <field name="model">crm.case</field>
	        <field name="type">form</field>
	        <field name="arch" type="xml">
	            <form string="Features">
	            <hpaned>
	            	<child1>
		            	<group colspan="2">
		            		<separator string="New Feature" colspan="2"/>
		            		<newline/>
		            		<group colspan="2">
	            				<field name="name" string="Feature Summary" colspan="2"/>
	            				<field name="section_id" invisible="0" colspan="2"/>
	            				<field name="category2_id" string="Version" colspan="2"/>
	            			</group>
	            			<newline/>
	            			<field name="description" nolabel="1" colspan="2"/>
	            			<newline/>
	            			<group col="100" colspan="2">
	            				<button name="%(crm_case_categ_act_new_portal)d" string="Save Feature" type="action"/>
		            		</group>
		            		<newline/>
		            		<separator string="Information" colspan="2"/>
		            		<newline/>
		            		<group colspan="2">
		            			<label align="0.0" colspan="2">Features can be reported by sending an email to the feature email gateway:</label>
		            			<field name="email_from" readonly="1" string="EMail" colspan="2"/>
		            		</group>
		            	</group>
	            	</child1>
	            	<child2>
		            	<group>
	                        <group colspan="2" col="2">
			            		<button name="%(crm_case_categ_act_new_portal)d" string="New Feature" type="action"/>
			            		<button name="%(act_crm_feature_search_form)d" string="Search Feature" type="action"/>
		            			<newline/>
			        			<separator string="Features by User" colspan="2"/>
			            		<newline/>
	          					<action name="%(act_crm_features_user_form)d" string="Features by User" colspan="2" height="300"/>
	                    	</group>
	                    </group>
	            	</child2>
	            	<newline/>
	            </hpaned>
                <group colspan="4">
            		<field name="feature_ids" nolabel="1" colspan="2" height="200" readonly="True">
            			<tree string="Latest Features">
            				<field name="name"/>
                            <field name="date"/>
		                    <field name="user_id" string="Responsible"/>
            			</tree>
            			<form string="Latest Features">
                          	<field name="name"/>
                            <field name="date"/>
		                    <field name="user_id" string="Responsible"/>
                        </form>
            		</field>
                </group>
	           	</form>
	        </field>
	    </record>

	    <record model="ir.actions.act_window" id="view_crm_feature_portal">
	        <field name="name">Feature Form</field>
	        <field name="res_model">crm.case</field>
	        <field name="view_type">form</field>
	        <field name="view_mode">tree,form</field>
	        <field name="context">{'section':'Feature'}</field>
	    </record>
	    <record model="ir.actions.act_window.view" id="action_crm_feature_portal_tree_view">
	        <field name="sequence" eval="1"/>
	        <field name="view_mode">tree</field>
	        <field name="view_id" ref="portal_crm_feature_tree_view"/>
	        <field name="act_window_id" ref="view_crm_feature_portal"/>
	    </record>
	    <record model="ir.actions.act_window.view" id="action_crm_feature_portal_form_view">
	        <field name="sequence" eval="2"/>
	        <field name="view_mode">form</field>
	        <field name="view_id" ref="portal_crm_feature_form_view"/>
	        <field name="act_window_id" ref="view_crm_feature_portal"/>
	    </record>
	    <menuitem  id="menu_view_portal_crm_feature_view" action="view_crm_feature_portal" parent="menu_portal"/>

	    <record model="ir.ui.view" id="view_crm_case_support_user">
            <field name="name">report.crm.case.support.user.graph</field>
            <field name="model">report.crm.case.support.user</field>
            <field name="type">graph</field>
            <field name="arch" type="xml">
                <graph string="Supports by User" type="bar" orientation="horizontal">
                    <field name="user_id"/>
                    <field name="nbr" operator="+"/>
                </graph>
            </field>
        </record>
        <record model="ir.ui.view" id="view_crm_case_support_user_tree">
            <field name="name">report.crm.case.support.user.tree</field>
            <field name="model">report.crm.case.support.user</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Supports by User">
                    <field name="user_id"/>
                    <field name="nbr"/>
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="view_crm_case_support_user_form">
            <field name="name">report.crm.case.support.user.form</field>
            <field name="model">report.crm.case.support.user</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Supports by User">
                    <field name="user_id"/>
                    <field name="nbr"/>
                </form>
            </field>
        </record>

        <record id="act_crm_support_user_form" model="ir.actions.act_window">
            <field name="name">Supports by User</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">report.crm.case.support.user</field>
            <field name="view_type">form</field>
            <field name="view_mode">graph,tree,form</field>
        </record>

        <record id="act_crm_support_search_form" model="ir.actions.act_window">
            <field name="name">All Supports</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">crm.case</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'case_search':'support'}</field>
        </record>

<!--		Portal Crm Support Form-->

		<record id="portal_crm_support_tree_view" model="ir.ui.view">
            <field name="name">portal.crm.support.tree</field>
            <field name="model">crm.case</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Supports" >
                    <field name="name"/>
                    <field name="user_id"/>
                    <field name="section_id"/>
                    <field name="category2_id"/>
                </tree>
            </field>
        </record>

	    <record model="ir.ui.view" id="portal_crm_support_form_view">
	        <field name="name">Support Form</field>
	        <field name="model">crm.case</field>
	        <field name="type">form</field>
	        <field name="arch" type="xml">
	            <form string="Supports">
				<hpaned>
	            	<child1>
		            	<group colspan="2">
		            		<separator string="New Support Request" colspan="2"/>
		            		<newline/>
		            		<group colspan="2">
	            				<field name="name" string="Support Summary" colspan="2"/>
	            				<field name="section_id" invisible="0" colspan="2"/>
	            				<field name="category2_id" string="Version" colspan="2"/>
	            			</group>
	            			<newline/>
	            			<field name="description" nolabel="1" colspan="2"/>
	            			<newline/>
	            			<group col="100" colspan="2">
	            			<button name="%(crm_case_categ_act_new_portal)d" string="Save Support Request" type="action"/>
		            		</group>
		            		<newline/>
		            		<separator string="Information" colspan="2"/>
		            		<newline/>
		            		<group colspan="2">
		            			<label align="0.0" colspan="2">Supports can be reported by sending an email to the support email gateway:</label>
		            			<field name="email_from" readonly="1" string="EMail" colspan="2"/>
		            		</group>
		            	</group>
	            	</child1>
	            	<child2>
		            	<group>
		            		<button name="%(crm_case_categ_act_new_portal)d" string="New Support Request" type="action"/>
		            		<button name="%(act_crm_support_search_form)d" string="Search Support Request" type="action"/>
		            		<newline/>
			        		<separator string="Supports by User" colspan="2"/>
			            	<newline/>
	          				<action name="%(act_crm_support_user_form)d" string="Supports by User" colspan="2" height="300"/>
	                    </group>
	            	</child2>
	            	<newline/>
	            </hpaned>
                <group colspan="4">
            		<field name="support_ids" nolabel="1" colspan="2" height="200" readonly="True" >
            			<tree string="Latest Supports">
            				<field name="name"/>
                            <field name="date"/>
		                    <field name="user_id" string="Responsible"/>
            			</tree>
            			 <form string="Latest Supports">
                          	<field name="name"/>
                            <field name="date"/>
		                    <field name="user_id" string="Responsible"/>
                        </form>
            		</field>
                </group>
	           	</form>
	        </field>
	    </record>

	    <record model="ir.actions.act_window" id="view_crm_support_portal">
	        <field name="name">Support Form</field>
	        <field name="res_model">crm.case</field>
	        <field name="view_type">form</field>
	        <field name="view_mode">tree,form</field>
	        <field name="context">{'section':'Support'}</field>
	    </record>
	    <record model="ir.actions.act_window.view" id="action_crm_support_portal_tree_view">
	        <field name="sequence" eval="1"/>
	        <field name="view_mode">tree</field>
	        <field name="view_id" ref="portal_crm_support_tree_view"/>
	        <field name="act_window_id" ref="view_crm_support_portal"/>
	    </record>
	    <record model="ir.actions.act_window.view" id="action_crm_support_portal_form_view">
	        <field name="sequence" eval="2"/>
	        <field name="view_mode">form</field>
	        <field name="view_id" ref="portal_crm_support_form_view"/>
	        <field name="act_window_id" ref="view_crm_support_portal"/>
	    </record>
	    <menuitem  id="menu_view_portal_crm_support_view" action="view_crm_support_portal" parent="menu_portal"/>

		<record model="ir.ui.view" id="view_crm_case_announce_user">
            <field name="name">report.crm.case.announce.user.graph</field>
            <field name="model">report.crm.case.announce.user</field>
            <field name="type">graph</field>
            <field name="arch" type="xml">
                <graph string="Announces by User" type="bar" orientation="horizontal">
                    <field name="user_id"/>
                    <field name="nbr" operator="+"/>
                </graph>
            </field>
        </record>
        <record model="ir.ui.view" id="view_crm_case_announce_user_tree">
            <field name="name">report.crm.case.announce.user.tree</field>
            <field name="model">report.crm.case.announce.user</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Announces by User">
                    <field name="user_id"/>
                    <field name="nbr"/>
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="view_crm_case_announce_user_form">
            <field name="name">report.crm.case.announce.user.form</field>
            <field name="model">report.crm.case.announce.user</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Announces by User">
                    <field name="user_id"/>
                    <field name="nbr"/>
                </form>
            </field>
        </record>

        <record id="act_crm_announce_user_form" model="ir.actions.act_window">
            <field name="name">Announces by User</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">report.crm.case.announce.user</field>
            <field name="view_type">form</field>
            <field name="view_mode">graph,tree,form</field>
        </record>

        <record id="act_crm_announce_search_form" model="ir.actions.act_window">
            <field name="name">All Announces</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">crm.case</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'case_search':'announce'}</field>
        </record>

<!--		Portal Crm Announce  Form-->

		<record id="portal_crm_announce_tree_view" model="ir.ui.view">
            <field name="name">portal.crm.announce.tree</field>
            <field name="model">crm.case</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Announces" >
                    <field name="name"/>
                    <field name="user_id"/>
                    <field name="section_id"/>
                    <field name="category2_id"/>
                </tree>
            </field>
        </record>

	    <record model="ir.ui.view" id="portal_crm_announce_form_view">
	        <field name="name">Announce Form</field>
	        <field name="model">crm.case</field>
	        <field name="type">form</field>
	        <field name="arch" type="xml">
	            <form string="Announces">
		            <hpaned>
		            	<child1>
			            	<group colspan="2">
			            		<separator string="New Announce" colspan="2"/>
			            		<newline/>
			            		<group colspan="2">
		            				<field name="name" string="Support Summary" colspan="2"/>
		            				<field name="section_id" invisible="0" colspan="2"/>
		            				<field name="category2_id" string="Version" colspan="2"/>
		            			</group>
		            			<newline/>
		            			<field name="description" nolabel="1" colspan="2"/>
		            			<newline/>
		            			<group col="100" colspan="2">
		            			<button name="%(crm_case_categ_announce_new)d" string="Save Announce" type="action"/>
			            		</group>
			            		<newline/>
			            		<separator string="Information" colspan="2"/>
			            		<newline/>
			            		<group colspan="2">
			            			<label align="0.0" colspan="2">Announces can be reported by sending an email to the announce email gateway:</label>
			            			<field name="email_from" readonly="1" string="EMail" colspan="2"/>
			            		</group>
			            	</group>
		            	</child1>
		            	<child2>
			            	<group>
			            		<button name="%(crm_case_categ_announce_new)d" string="New Announce" type="action"/>
			            		<button name="%(act_crm_announce_search_form)d" string="Search Announce" type="action"/>
				            	<newline/>
				            	<separator string="Announces by User" colspan="2"/>
				            	<newline/>
		          				<action name="%(act_crm_announce_user_form)d" string="Announces by User" colspan="2" height="300"/>
			            	</group>
		            	</child2>
		            	<newline/>
		            </hpaned>
	                <group colspan="4">
	            		<field name="announce_ids" nolabel="1" colspan="2" height="200" readonly="True">
	            			<tree string="Latest Announces">
	            				<field name="name"/>
	                            <field name="date"/>
			                    <field name="user_id" string="Responsible"/>
	            			</tree>
	            			 <form string="Latest Announces">
	                          	<field name="name"/>
	                            <field name="date"/>
			                    <field name="user_id" string="Responsible"/>
	                        </form>
	            		</field>
	                </group>
                </form>
	        </field>
	    </record>

	    <record model="ir.actions.act_window" id="view_crm_announce_portal">
	        <field name="name">Announce Form</field>
	        <field name="res_model">crm.case</field>
	        <field name="view_type">form</field>
	        <field name="view_mode">tree,form</field>
	        <field name="context">{'section':'Announce'}</field>
	    </record>
	    <record model="ir.actions.act_window.view" id="action_crm_announce_portal_tree_view">
	        <field name="sequence" eval="1"/>
	        <field name="view_mode">tree</field>
	        <field name="view_id" ref="portal_crm_announce_tree_view"/>
	        <field name="act_window_id" ref="view_crm_announce_portal"/>
	    </record>
	    <record model="ir.actions.act_window.view" id="action_crm_announce_portal_form_view">
	        <field name="sequence" eval="2"/>
	        <field name="view_mode">form</field>
	        <field name="view_id" ref="portal_crm_announce_form_view"/>
	        <field name="act_window_id" ref="view_crm_announce_portal"/>
	    </record>
	    <menuitem  id="menu_view_portal_crm_announce_view" action="view_crm_announce_portal" parent="menu_portal"/>

	    <record model="ir.actions.act_window" id="act_project_project_portal">
	        <field name="name">Project Form</field>
	        <field name="res_model">project.project</field>
	        <field name="type">ir.actions.submenu</field>
	        <field name="view_type">form</field>
	        <field name="context" eval="{'action_portal':'project'}"/>
	        <field name="menus">[{'name':'Tasks','action_id':'action_portal_project_task','icon':'terp-project'},{'name':'Timesheets','action_id':'act_hr_timesheet_sheet_portal_form','icon':'terp-hr'},
	        		{'name':'Bugs','action_id':'action_crm_bug_portal','icon':'terp-crm'},{'name':'Feature Requests','action_id':'view_crm_feature_portal','icon':'terp-crm'},
	        		{'name':'Wiki Page','action_id':'action_portal_project_wiki','icon':'terp-tools'},{'name':'Financial Data','action_id':'act_financial_portal_form','icon':'terp-account'},
	        		{'name':'Invoices','action_id':'act_portal_invoice_form','icon':'terp-account'},{'name':'Documents','action_id':'act_portal_attachment_form','icon':'terp-tools'},{'name':'Dashboard','action_id':'open_board_project_manager','icon':'terp-graph'}]</field>
	    </record>
	    <record model="ir.actions.act_window.view" id="action_crm_tag_form_view_all1">
	        <field name="sequence" eval="1"/>
	        <field name="view_mode">tree</field>
	        <field name="view_id" ref="project_portal_tree_view"/>
	        <field name="act_window_id" ref="act_project_project_portal"/>
	    </record>
	    <record model="ir.actions.act_window.view" id="action_crm_tag_form_view_all2">
	        <field name="sequence" eval="2"/>
	        <field name="view_mode">form</field>
	        <field name="view_id" ref="project_portal_form_view"/>
	        <field name="act_window_id" ref="act_project_project_portal"/>
	    </record>
	    <menuitem  id="menu_view_project_project_portal" action="act_project_project_portal" parent="menu_portal"/>

    </data>
</openerp>