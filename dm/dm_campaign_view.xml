<?xml version="1.0"?>
<openerp>
<data>

    <menuitem name="Direct Marketing" icon="terp-crm" id="menu_dm"/>
    <menuitem name="Configuration" id="menu_dm_config" parent="menu_dm" groups="res_groups_offeradmin,res_groups_offermanager,res_groups_campaignadmin,res_groups_campaignmanager,res_groups_dtpmanager" sequence="0"/>
    <menuitem name="Campaigns" id="menu_dm_config_campaign" parent="dm.menu_dm_config" groups="res_groups_offeradmin,res_groups_campaignadmin" sequence="1"/>
    <menuitem name="Customers Lists and Files" id="menu_dm_config_custlist" parent="dm.menu_dm_config" groups="res_groups_offeradmin,res_groups_campaignadmin" sequence="1"/>
	<menuitem name="Customers Lists" id="menu_dm_config_custlist_list" parent="dm.menu_dm_config_custlist" groups="res_groups_offeradmin,res_groups_campaignadmin"/>
	<menuitem name="Customers Files" id="menu_dm_config_custlist_file" parent="dm.menu_dm_config_custlist" groups="res_groups_offeradmin,res_groups_campaignadmin"/>
    <menuitem name="Campaigns" id="menu_dm_campaign" parent="menu_dm" 
    groups="res_groups_offeradmin,res_groups_campaignadmin,res_groups_dmadmin,res_groups_campaignmanager,res_groups_offermanager"
    sequence="4"/>
    <menuitem name="Low Level" id="menu_dm_config_lowlevel" parent="dm.menu_dm_config" groups="res_groups_dmadmin" sequence="0"/>
    <menuitem name="Mail Service" id="menu_dm_config_mail_service" parent="dm.menu_dm_config" sequence="7"/>

    <!--
    ======================
    Mail Service
    ======================
    -->

    <record model="ir.ui.view" id="view_dm_mail_service_form">
        <field name="name">dm.mail_service.form</field>
        <field name="model">dm.mail_service</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Mail Service">
                <field name="name" select="1"/>
                <field name="partner_id" select="1"/>
                <field name="media_id" select="1"/>
                <field name="default_for_media" on_change="_check_unique_mail_service(media_id,default_for_media)"/>
                <field name="type_id" on_change="on_change_service_type(type_id)" widget="selection"/>
                <field name="store_email_document" select="1"/>
                <group colspan="4" attrs="{'invisible':[('service_type','!=','smtp')]}">
					<separator string="SMTP Server Configuration" colspan="4" />
					<field name="service_type" on_change="on_change_service_type(type_id)" invisible="1"/>
					<field name="smtp_server_id"/>
				</group>
                <field name="hosted_image_use"/>
                <separator string="Mailing Action" colspan="4"/>
                <group colspan="4" col="4">
                <field name="action_id" select="1"/>
                <field name="time_mode"/>
                <field name="action_hour" widget="float_time" attrs="{'invisible':[('time_mode','!=','hour')]}"/>
                <field name="action_date" attrs="{'invisible':[('time_mode','!=','date')]}"/>
                <group colspan="4" attrs="{'invisible':[('time_mode','!=','interval')]}">
                <field name="action_interval" />
                <field name="unit_interval" />
                </group>
<!--                <field name="condition" />
                <field name="state" />
                <field name="model_id" />-->
                </group>
            </form>
        </field>
    </record>

    <record model="ir.ui.view" id="view_dm_mail_service_tree">
        <field name="name">dm.mail_service.tree</field>
        <field name="model">dm.mail_service</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Mail Services">
                <field name="name" />
                <field name="partner_id" />
                <field name="media_id" />
                <field name="action_id" />
                <field name="default_for_media"/>
<!--                <field name="condition" />
                <field name="state" />
                <field name="model_id" />-->
            </tree>
        </field>
    </record>

    <record model="ir.actions.act_window" id="action_dm_mail_service_form">
        <field name="name">All Mail Services</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dm.mail_service</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="view_dm_mail_service_tree"/>
    </record>

    <menuitem id="menu_dm_mail_service_form" parent="dm.menu_dm_config_mail_service" action="action_dm_mail_service_form" sequence="1" />

    <!--
    =======================================================
    CAMPAIGN VIEWS
    =======================================================
    -->

    <record model="ir.ui.view" id="view_campaign_calendar">
        <field name="name">dm.campaign.calendar</field>
        <field name="model">dm.campaign</field>
        <field name="type">calendar</field>
        <field eval="2" name="priority"/>
        <field name="arch" type="xml">
            <calendar color="responsible_id" date_start="camp_date_start" string="Campaigns">
                <field name="name" string="Name"/>
                <field name="country_id" />
            </calendar>
        </field>
    </record>

    <record model="ir.ui.view" id="view_campaign_tree">
        <field name="name">dm.campaign.tree</field>
        <field name="model">dm.campaign</field>
        <field name="type">tree</field>
		<!--field eval="10" name="priority"/-->
        <field name="arch" type="xml">
            <tree string="Campaigns">
                <field name="name" string="Name"/>
                <field name="campaign_type_id"/>
                <field name="camp_date_start"/>
                <field name="responsible_id" />
                <field name="country_id" />
                <field name="state"/>
            </tree>
        </field>
    </record>

    <record model="ir.ui.view" id="view_campaign_form">
        <field name="name">dm.campaign.form</field>
        <field name="model">dm.campaign</field>
        <field name="type">form</field>
		<!--field name="priority">10</field-->
        <field name="arch" type="xml">
            <form string="Campaigns">
                <group colspan="4">
                    <separator string="Campaign Description" colspan="4"/>
                    <field name="name" string="Name" select="1"/>
                    <field name="code1" string="Code" select="2"/>
                </group>
                <notebook colspan="4">
                    <page string="General">
                        <group colspan="2" col="2">
                        <separator string="Global Information" colspan="2"/>
                        <field name="offer_id" select="1"/>
                        <field name="campaign_type_id" widget="selection" select="2"/>
                        <!--field name="campaign_type_id" select="2"/-->
                        <field name="dealer_id" groups="base.group_extended"/>
                        <field name="trademark_id"/>
                        <field name="responsible_id" />
                        </group>
                        <group colspan="2" col="2">
                        <separator string="Geographical" colspan="2"/>
                        <field name="country_id" select="1" on_change="onchange_lang_currency(country_id)"/>
                        <field name="lang_id" select="2"/>
                        <field name="currency_id" select="2"/>
                        <field name="forwarding_charge" select="2"/>
                        </group>
                        <group colspan="4">
                        <separator string="Dates" colspan="4"/>
                        <field name="camp_date_start" select="2" string="Drop Date"/>
                        <field name="camp_date_end" string="End Date"/>
                        </group>
                        <separator string="Campaign Status" colspan="4"/>
                        <group col="10" colspan="4">
                            <field name="state" readonly="1" select="2" nolabel="1"/>
                            <button name="state_pending_set" string="Set pending" states="draft"/>
                            <button name="state_open_set" string="Start Campaign" states="pending"/>
                            <button name="state_close_set" string="Close" states="open"/>
                        </group>
                    </page>
                    <page string="Mail Service">
                        <field name="mail_service_ids" nolabel="1" colspan="4" mode="tree">
                            <tree string="Mail Service" editable="bottom">
                                <field name="offer_step_id" domain="[('offer_id','=',parent.offer_id)]"/>
                                <field name="mail_service_id"/>
                            </tree>
                        </field>
                    </page>
                    <page string="Accounting">
                    	<separator string="Payment Methods" colspan="4"/>
                        <field name="payment_method_ids" colspan="4" nolabel="1"/>
                    </page>
                    <page string="Notes">
                        <separator string="Notes" colspan="4"/>
                        <field name="notes" colspan="4" nolabel="1" widget="text_wiki"/>
                    </page>
                </notebook>
            </form>
        </field>
    </record>

        <!-- All Campaigns -->

    <record model="ir.actions.act_window" id="action_campaign_form_all">
        <field name="name">All Campaigns</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dm.campaign</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form,calendar</field>
        <field name="view_id" ref="view_campaign_tree"/>
    </record>
    <record model="ir.actions.act_window.view" id="action_campaign_tree_all_view">
        <field name="sequence" eval="1"/>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="view_campaign_tree"/>
        <field name="act_window_id" ref="action_campaign_form_all"/>
    </record>
    <record model="ir.actions.act_window.view" id="action_campaign_form_all_view">
        <field name="sequence" eval="2"/>
        <field name="view_mode">form</field>
        <field name="view_id" ref="view_campaign_form"/>
        <field name="act_window_id" ref="action_campaign_form_all"/>
    </record>
    <record model="ir.actions.act_window.view" id="action_campaign_calendar_all_view">
        <field name="sequence" eval="3"/>
        <field name="view_mode">calendar</field>
        <field name="view_id" ref="view_campaign_calendar"/>
        <field name="act_window_id" ref="action_campaign_form_all"/>
    </record>

    <menuitem id="menu_action_campaign_form_all" parent="dm.menu_dm_campaign" action="action_campaign_form_all"/>


    <record model="ir.actions.act_window" id="action_campaign_form_all_open">
        <field name="name">Open Campaigns</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dm.campaign</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form,calendar</field>
        <field name="view_id" ref="view_campaign_tree"/>
        <field name="domain">[('state','=','open')]</field>
    </record>
    <record model="ir.actions.act_window.view" id="action_campaign_tree_all_open_view">
        <field name="sequence" eval="1"/>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="view_campaign_tree"/>
        <field name="act_window_id" ref="action_campaign_form_all_open"/>
    </record>
    <record model="ir.actions.act_window.view" id="action_campaign_form_all_open_view">
        <field name="sequence" eval="2"/>
        <field name="view_mode">form</field>
        <field name="view_id" ref="view_campaign_form"/>
        <field name="act_window_id" ref="action_campaign_form_all_open"/>
    </record>
    <record model="ir.actions.act_window.view" id="action_campaign_calendar_all_open_view">
        <field name="sequence" eval="3"/>
        <field name="view_mode">calendar</field>
        <field name="view_id" ref="view_campaign_calendar"/>
        <field name="act_window_id" ref="action_campaign_form_all_open"/>
    </record>
    <menuitem id="menu_action_campaign_form_all_open" parent="dm.menu_action_campaign_form_all" action="action_campaign_form_all_open"/>


    <record model="ir.actions.act_window" id="action_campaign_form_all2">
        <field name="name">Draft Campaigns</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dm.campaign</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="view_campaign_tree"/>
        <field name="domain">[('state','=','draft')]</field>
    </record>
    <record model="ir.actions.act_window.view" id="action_campaign_tree_all_draft_view">
        <field name="sequence" eval="1"/>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="view_campaign_tree"/>
        <field name="act_window_id" ref="action_campaign_form_all2"/>
    </record>
    <record model="ir.actions.act_window.view" id="action_campaign_form_all_draft_view">
        <field name="sequence" eval="2"/>
        <field name="view_mode">form</field>
        <field name="view_id" ref="view_campaign_form"/>
        <field name="act_window_id" ref="action_campaign_form_all2"/>
    </record>
    <record model="ir.actions.act_window.view" id="action_campaign_calendar_all_draft_view">
        <field name="sequence" eval="3"/>
        <field name="view_mode">calendar</field>
        <field name="view_id" ref="view_campaign_calendar"/>
        <field name="act_window_id" ref="action_campaign_form_all2"/>
    </record>
    <menuitem id="menu_action_campaign_form_all2" parent="dm.menu_action_campaign_form_all" action="action_campaign_form_all2"/>


    <record model="ir.actions.act_window" id="action_campaign_form_all3">
        <field name="name">Closed Campaigns</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dm.campaign</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form,calendar</field>
        <field name="view_id" ref="view_campaign_tree"/>
        <field name="domain">[('state','=','close')]</field>
    </record>
    <record model="ir.actions.act_window.view" id="action_campaign_tree_all_closed_view">
        <field name="sequence" eval="1"/>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="view_campaign_tree"/>
        <field name="act_window_id" ref="action_campaign_form_all3"/>
    </record>
    <record model="ir.actions.act_window.view" id="action_campaign_form_all_closed_view">
        <field name="sequence" eval="2"/>
        <field name="view_mode">form</field>
        <field name="view_id" ref="view_campaign_form"/>
        <field name="act_window_id" ref="action_campaign_form_all3"/>
    </record>
    <record model="ir.actions.act_window.view" id="action_campaign_calendar_all_closed_view">
        <field name="sequence" eval="3"/>
        <field name="view_mode">calendar</field>
        <field name="view_id" ref="view_campaign_calendar"/>
        <field name="act_window_id" ref="action_campaign_form_all3"/>
    </record>
    <menuitem id="menu_action_campaign_form_all3" parent="dm.menu_action_campaign_form_all" action="action_campaign_form_all3"/>

        <!-- My Campaings -->


    <record model="ir.actions.act_window" id="action_campaign_form_my">
        <field name="name">My Campaigns</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dm.campaign</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form,calendar</field>
        <field name="view_id" ref="view_campaign_tree"/>
        <field name="domain">[('responsible_id','=',uid)]</field>
    </record>
    <record model="ir.actions.act_window.view" id="action_my_campaign_tree">
        <field name="sequence" eval="1"/>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="view_campaign_tree"/>
        <field name="act_window_id" ref="action_campaign_form_my"/>
    </record>
    <record model="ir.actions.act_window.view" id="action_my_campaign_form">
        <field name="sequence" eval="2"/>
        <field name="view_mode">form</field>
        <field name="view_id" ref="view_campaign_form"/>
        <field name="act_window_id" ref="action_campaign_form_my"/>
    </record>
    <record model="ir.actions.act_window.view" id="action_my_campaign_calendar">
        <field name="sequence" eval="3"/>
        <field name="view_mode">calendar</field>
        <field name="view_id" ref="view_campaign_calendar"/>
        <field name="act_window_id" ref="action_campaign_form_my"/>
    </record>
    <menuitem id="menu_action_campaign_form_my" parent="dm.menu_dm_campaign" groups="res_groups_campaignadmin,res_groups_campaignmanager" action="action_campaign_form_my"/>



    <record model="ir.actions.act_window" id="action_campaign_form_my1">
        <field name="name">My Open Campaigns</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dm.campaign</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form,calendar</field>
        <field name="view_id" ref="view_campaign_tree"/>
        <field name="domain">[('state','=','open'),('responsible_id','=',uid)]</field>
    </record>
    <record model="ir.actions.act_window.view" id="action_my_open_campaign_tree">
        <field name="sequence" eval="1"/>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="view_campaign_tree"/>
        <field name="act_window_id" ref="action_campaign_form_my1"/>
    </record>
    <record model="ir.actions.act_window.view" id="action_my_open_campaign_form">
        <field name="sequence" eval="2"/>
        <field name="view_mode">form</field>
        <field name="view_id" ref="view_campaign_form"/>
        <field name="act_window_id" ref="action_campaign_form_my1"/>
    </record>
    <record model="ir.actions.act_window.view" id="action_my_open_campaign_calendar">
        <field name="sequence" eval="3"/>
        <field name="view_mode">calendar</field>
        <field name="view_id" ref="view_campaign_calendar"/>
        <field name="act_window_id" ref="action_campaign_form_my1"/>
    </record>
    <menuitem id="menu_action_campaign_form_my1" parent="dm.menu_action_campaign_form_my" action="action_campaign_form_my1"/>


    <record model="ir.actions.act_window" id="action_campaign_form_my2">
        <field name="name">My Draft Campaigns</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dm.campaign</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form,calendar</field>
        <field name="view_id" ref="view_campaign_tree"/>
        <field name="domain">[('state','=','draft'),('responsible_id','=',uid)]</field>
    </record>
    <record model="ir.actions.act_window.view" id="action_my_draft_campaign_tree">
        <field name="sequence" eval="1"/>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="view_campaign_tree"/>
        <field name="act_window_id" ref="action_campaign_form_my2"/>
    </record>
    <record model="ir.actions.act_window.view" id="action_my_draft_campaign_form">
        <field name="sequence" eval="2"/>
        <field name="view_mode">form</field>
        <field name="view_id" ref="view_campaign_form"/>
        <field name="act_window_id" ref="action_campaign_form_my2"/>
    </record>
    <record model="ir.actions.act_window.view" id="action_my_draft_campaign_calendar">
        <field name="sequence" eval="3"/>
        <field name="view_mode">calendar</field>
        <field name="view_id" ref="view_campaign_calendar"/>
        <field name="act_window_id" ref="action_campaign_form_my2"/>
    </record>

    <menuitem id="menu_action_campaign_form_my2" parent="dm.menu_action_campaign_form_my" action="action_campaign_form_my2"/>


    <record model="ir.actions.act_window" id="action_campaign_form_my3">
        <field name="name">My Closed Campaigns</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dm.campaign</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form,calendar</field>
        <field name="view_id" ref="view_campaign_tree"/>
        <field name="domain">[('state','=','close'),('responsible_id','=',uid)]</field>
    </record>
    <record model="ir.actions.act_window.view" id="action_my_closed_campaign_tree">
        <field name="sequence" eval="1"/>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="view_campaign_tree"/>
        <field name="act_window_id" ref="action_campaign_form_my3"/>
    </record>
    <record model="ir.actions.act_window.view" id="action_my_closed_campaign_form">
        <field name="sequence" eval="2"/>
        <field name="view_mode">form</field>
        <field name="view_id" ref="view_campaign_form"/>
        <field name="act_window_id" ref="action_campaign_form_my3"/>
    </record>
    <record model="ir.actions.act_window.view" id="action_my_closed_campaign_calendar">
        <field name="sequence" eval="3"/>
        <field name="view_mode">calendar</field>
        <field name="view_id" ref="view_campaign_calendar"/>
        <field name="act_window_id" ref="action_campaign_form_my3"/>
    </record>

    <menuitem id="menu_action_campaign_form_my3" parent="dm.menu_action_campaign_form_my" action="action_campaign_form_my3"/>

    <!--
    =======================================================
    CAMPAIGN MODEL VIEWS
    =======================================================
    -->

    <record model="ir.ui.view" id="view_campaign_model_tree">
        <field name="name">dm.campaign.model.tree</field>
        <field name="model">dm.campaign</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="All Campaigns Model">
                <field name="name" string="Name"/>
                <field name="campaign_type_id"/>
                <field name="country_id" />
            </tree>
        </field>
    </record>

    <record model="ir.ui.view" id="view_campaign_model_form">
        <field name="name">dm.campaign.model.form</field>
        <field name="model">dm.campaign</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Campaigns Model">
                <notebook colspan="4">
                    <page string="General">
                        <separator string="Global Information" colspan="4"/>
                        <group col="10" colspan="4">
                            <field name="name" string="Name" select="1" />
                            <field name="code1" string="Code" select="2"/>
                        </group>
                        <group col="10" colspan="4">
                            <field name="country_id" select="1"/>
                            <field name="offer_id"/>
                        </group>
                        <separator string="Notes" colspan="4"/>
                        <field name="notes" colspan="4" nolabel="1" widget="text_wiki"/>
                        <button name="copy_campaign" string="Create Campaign" type="object"/>
                    </page>
                </notebook>
            </form>
        </field>
    </record>

    <record model="ir.actions.act_window" id="action_campaign_model_form">
        <field name="name">All Campaign Models</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dm.campaign</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('campaign_type_id.code','=','model')]</field>
        <field name="context">{'campaign_type':'model'}</field>
    </record>

    <record model="ir.actions.act_window.view" id="action_campaign_model_tree_view">
        <field name="view_mode">tree</field>
        <field name="sequence">1</field>
        <field name="view_id" ref="view_campaign_model_tree"/>
        <field name="act_window_id" ref="action_campaign_model_form"/>
    </record>

    <record model="ir.actions.act_window.view" id="action_campaign_model_form_view">
        <field name="view_mode">form</field>
        <field name="sequence">10</field>
        <field name="view_id" ref="view_campaign_model_form"/>
        <field name="act_window_id" ref="action_campaign_model_form"/>
    </record>

    <menuitem id="menu_action_campaign_model_form" parent="dm.menu_dm_config_campaign" action="action_campaign_model_form"/>


    <!--
    =======================================================
    CAMPAIGN PROPOSITION VIEWS
    =======================================================
    -->

    <record model="ir.ui.view" id="view_campaign_proposition_form">
        <field name="name">dm.campaign.proposition.form</field>
        <field name="model">dm.campaign.proposition</field>
        <field name="type">form</field>
        <field eval="10" name="priority"/>
        <field name="arch" type="xml">
            <form string="Propositions">
            <group colspan="3" col="4">
            <separator string="Commercial Proposition Description" colspan="5"/>
            <field name="name" string="Name" select="1" />
            <field name="code1" string="Code" select="2" />
            </group>
            <notebook colspan="4">
                <page string="General">
                    <group colspan="2" col="2">
                    <separator string="Global Information" colspan="2"/>
                    <field name="camp_id"/>
                    <field name="proposition_type" select="1"/>
                    <group colspan="2" attrs="{'invisible':[('proposition_type','!=','relaunching')]}">
                        <field name="initial_proposition_id" select="1"/>
                    </group>
                      <field name="camp_pro_date_start" select="2"/>
                    <field name="sale_rate"/>
                    <field name="forwarding_charge" select="2"/>
                    </group>
                    <group colspan="2" col="2">
                    <separator string="Quantities" colspan="2"/>
                    <field name="quantity_planned" select="2"/>
                    <field name="quantity_wanted"/>
                    <field name="quantity_delivered"/>
                    <field name="quantity_usable"/>
                    <field name="quantity_real"/>
                    </group>
                    <separator string="Notes" colspan="4"/>
                    <field name="notes" colspan="4" nolabel="1" widget="text_wiki"/>
                </page>
                <page string="Segments">
                    <field name="segment_ids" colspan="4" nolabel="1">
                    <form string="Segment">
                        <group colspan="4">
                            <separator string="Segment Description" colspan="4"/>
                            <field name="name" string="Name" select="1"/>
<!--                            <field name="code1" string="Code" select="1"/>-->
                            <field name="code" string="Code" select="1"/>
							<group colspan="2">
								<field name="type_src"/>
							</group>
							<group colspan="2" col="2">
                                <field name="customers_list_id" select="1" on_change="onchange_list(customers_list_id,start_census,end_census)"/>
                                <field name="customers_file_id" select="1"/>
							</group>
                        </group>
                        <notebook colspan="4">
                            <page string="General">
                                <separator string="Segment Origin" colspan="4"/>
                                <field name="split_id" />
                                <field name="reuse_id" />
                                <field name="active" />
                                <group colspan="4" groups="base.group_extended">
                                    <separator string="Segmentation" colspan="4"/>
                                    <group colspan="4" col="6">
                                    <field name="start_census"/>
                                    <field name="end_census"/>
                                    <field name="type_census"/>
                                    </group>
                                <field name="deduplication_level"/>
                                </group>
                                <separator string="Segmentation Criteria" colspan="4"/>
                                <field name="segmentation_criteria" colspan="4" nolabel="1"/>
                            </page>
                            <page string="Quantities">
                                <separator string="Addresses Quantities" colspan="4"/>
                                <newline/>
                                <field name="quantity_wanted" select="2" attrs="{'readonly':[('all_add_avail','=',1)]}"/>
                                <field name="all_add_avail" select="2"/>
                                <field name="quantity_delivered" select="2"/>
                                <newline/>
                                <separator string="Removed by Deduplicator" colspan="2"/>
                                <newline/>
                                <field name="quantity_dedup_dedup" string="- Deduplication"/>
                                <newline/>
                                <field name="quantity_cleaned_dedup" string="- Cleaning" groups="base.group_extended"/>
                                <newline/>
                                <separator string="Removed by Cleaner" colspan="2"/>
                                <newline/>
                                <field name="quantity_dedup_cleaner" string="- Deduplication" groups="base.group_extended"/>
                                <newline/>
                                <field name="quantity_cleaned_cleaner" string="- Cleaning"/>
                                <field name="quantity_purged" select="2"/>
                                <newline/>
                                <separator string="" colspan="2"/>
                                <newline/>
                                <field name="quantity_usable" string="= Usable Quantity" select="2"/>
                                <field name="quantity_real" select="2"/>
                            </page>
                            <page string="Notes">
                                <field name="note" colspan="4" nolabel="1" widget="text_wiki"/>
                            </page>
                        </notebook>
                   </form>
                   <tree string="Segments">
                        <field name="name" string="Name" />
                        <field name="deduplication_level" />
                        <field name="code" string="Code" />
<!--                        <field name="code1" string="Code" />-->
                        <field name="quantity_planned" />
                        <field name="quantity_wanted" />
                        <field name="quantity_delivered" />
<!--                     <field name="quantity_usable" />-->
                        <field name="quantity_real"/>
                        <field name="note" />
                   </tree>
                </field>
                <separator string="" colspan="4"/>
                <field name="keep_segments" string="Keep Segments at Duplication"/>
                </page>
            </notebook>
            </form>
        </field>
    </record>

    <record model="ir.ui.view" id="view_campaign_proposition_tree">
        <field name="name">dm.campaign.proposition.tree</field>
        <field name="model">dm.campaign.proposition</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Propositions">
                <field name="camp_id"/>
                <field name="name" string="Name"/>
                <field name="code1" string="Code"/>
                <field name="camp_pro_date_start" colspan="4"/>
                <field name="sale_rate"/>
                <field name="quantity_real" select="2"/>
                <field name="proposition_type"/>
            </tree>
        </field>
    </record>

    <record model="ir.ui.view" id="view_campaign_proposition_calendar">
        <field name="name">dm.campaign.proposition.calendar</field>
        <field name="model">dm.campaign.proposition</field>
        <field name="type">calendar</field>
        <field eval="2" name="priority"/>
        <field name="arch" type="xml">
            <calendar color="camp_id" date_start="camp_pro_date_start" string="Propositions">
                <field name="name"/>
                <field name="proposition_type"/>
            </calendar>
        </field>
    </record>

    <record model="ir.actions.act_window" id="action_campaign_proposition">
        <field name="name">All Campaign Propositions</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dm.campaign.proposition</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form,calendar</field>
        <field name="view_id" ref="view_campaign_proposition_tree"/>
    </record>

    <menuitem id="menu_action_campaign_proposition" parent="dm.menu_dm_campaign" action="action_campaign_proposition"/>

    <record model="ir.actions.act_window" id="action_campaign_proposition_my">
        <field name="name">My Campaign Propositions</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dm.campaign.proposition</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form,calendar</field>
        <field name="view_id" ref="view_campaign_proposition_tree"/>
        <field name="domain">[('user_id','=',uid)]</field>
    </record>

    <menuitem id="menu_action_campaign_proposition_my" parent="dm.menu_dm_campaign" groups="res_groups_campaignadmin,res_groups_campaignmanager" action="action_campaign_proposition_my"/>

    <!--
    =======================================================
    CAMPAIGN PROPOSITION SEGMENT
    =======================================================
    -->

    <record model="ir.ui.view" id="view_campaign_proposition_segment_form">
        <field name="name">dm.campaign.proposition.segment.form</field>
        <field name="model">dm.campaign.proposition.segment</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Segment">
                <group colspan="4">
                    <separator string="Segment Description" colspan="4"/>
                    <field name="name" string="Name" select="1"/>
                    <field name="code" string="Code" select="1"/>
<!--                    <field name="code1" string="Code" select="1"/>-->
                    <group colspan="2">
                        <field name="type_src"/>
                    </group>
                    <group colspan="2" col="2">
                        <field name="customers_list_id" select="1" on_change="onchange_list(customers_list_id,start_census,end_census)"/>
                        <field name="customers_file_id" select="1"/>
                    </group>
                </group>
                <notebook colspan="4">
                    <page string="General">
                        <separator string="Segment Origin" colspan="4"/>
                        <field name="campaign_id" select="1" />
                        <field name="proposition_id" select="1"/>
                        <field name="active" />
                        <field name="split_id" />
                        <field name="reuse_id" />
                        <group colspan="4" groups="base.group_extended">
                        <separator string="Segmentation" colspan="4"/>
                        <group colspan="4" col="6">
                        <field name="start_census"/>
                        <field name="end_census"/>
                        <field name="type_census"/>
                        </group>
                        <field name="deduplication_level"/>
                        </group>
                        <separator string="Segmentation Criteria" colspan="4"/>
                        <field name="segmentation_criteria" colspan="4" nolabel="1"/>
                        <separator string="Notes" colspan="4"/>
                        <field name="note" colspan="4" nolabel="1" widget="text_wiki"/>
                    </page>
                    <page string="Quantities">
                        <separator string="Addresses Quantities" colspan="4"/>
                        <newline/>
                        <field name="quantity_wanted" select="2" attrs="{'readonly':[('all_add_avail','=',1)]}"/>
                        <field name="all_add_avail" select="2"/>
                        <field name="quantity_delivered" select="2"/>
                        <newline/>
                        <separator string="Removed by Deduplicator" colspan="2"/>
                        <newline/>
                        <field name="quantity_dedup_dedup" string="- Deduplication"/>
                        <newline/>
                        <field name="quantity_cleaned_dedup" string="- Cleaning" groups="base.group_extended"/>
                        <newline/>
                        <separator string="Removed by Cleaner" colspan="2"/>
                        <newline/>
                        <field name="quantity_dedup_cleaner" string="- Deduplication" groups="base.group_extended"/>
                        <newline/>
                        <field name="quantity_cleaned_cleaner" string="- Cleaning"/>
                        <field name="quantity_purged" select="2"/>
                        <newline/>
                        <separator string="" colspan="2"/>
                        <newline/>
                        <field name="quantity_usable" string="= Usable Quantity" select="2"/>
                        <field name="quantity_real" select="2"/>
                    </page>
                </notebook>
            </form>
        </field>
    </record>

    <record model="ir.ui.view" id="view_campaign_proposition_segment_tree">
        <field name="name">dm.campaign.proposition.segment.tree</field>
        <field name="model">dm.campaign.proposition.segment</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Segments">
                <field name="name" string="Name"/>
                <field name="code" string="Code"/>
<!--                <field name="code1" string="Code"/>-->
                <field name="type_src"/>
                <field name="quantity_planned" select="2"/>
                <field name="quantity_wanted" select="2"/>
                <field name="quantity_delivered" select="2"/>
                <field name="quantity_real"/>
                <field name="note"/>
            </tree>
        </field>
    </record>

    <record model="ir.actions.act_window" id="action_campaign_proposition_segment_form">
        <field name="name">All Segments</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dm.campaign.proposition.segment</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="view_campaign_proposition_segment_tree"/>
    </record>

    <menuitem id="menu_action_campaign_proposition_segment_form" parent="menu_dm_config_campaign" action="action_campaign_proposition_segment_form"/>

    <!--
    =======================================================
    CAMPAIGN TYPE
    =======================================================
    -->

    <record model="ir.ui.view" id="view_campaign_type_form">
        <field name="name">dm.campaign.type.form</field>
        <field name="model">dm.campaign.type</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Type">
                <separator string="Campaign Type Description" colspan="4"/>
                <field name="name" select="1"/>
                <field name="code" select="1"/>
                <separator string="Description" colspan="4"/>
                <field name="description" nolabel="1" colspan="4" select="2" widget="text_wiki"/>
            </form>
        </field>
    </record>

    <record model="ir.ui.view" id="view_campaign_type_tree">
        <field name="name">dm.campaign.type.tree</field>
        <field name="model">dm.campaign.type</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Types">
                <field name="name"/>
                <field name="code"/>
                <field name="description"/>
            </tree>
        </field>
    </record>

    <record model="ir.actions.act_window" id="action_campaign_type_form">
        <field name="name">All Campaign Types</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dm.campaign.type</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="view_campaign_type_tree"/>
    </record>

    <menuitem id="menu_action_campaign_type_form" parent="dm.menu_dm_config_campaign" action="action_campaign_type_form"/>

    <!--
    =======================================================
    DM OVERLAY
    =======================================================
    -->
    <record model="ir.ui.view" id="view_dm_overlay_form">
        <field name="name">dm.overlay.form</field>
        <field name="model">dm.overlay</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Overlay">
                <field name="code"/>
                <field name="trademark_id" select="1"/>
                <field name="dealer_id" select="2"/>
                <field name="bank_account_id" select="2"/>
<!--                <separator string="Payment Method Rules" colspan="4"/>
                <field name="payment_method_rule_ids" colspan="4" nolabel="1"/>-->
                <separator string="Countries" colspan="4"/>
                <field name="country_ids" colspan="4" nolabel="1"/>
            </form>
        </field>
    </record>
    <record model="ir.ui.view" id="view_dm_overlay_tree">
        <field name="name">dm.overlay.tree</field>
        <field name="model">dm.overlay</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Overlays">
                <field name="code"/>
                <field name="trademark_id"/>
                <field name="dealer_id"/>
                <field name="bank_account_id"/>
<!--                <field name="payment_method_rule_ids"/>-->
            </tree>
        </field>
    </record>
    <record model="ir.actions.act_window" id="action_dm_overlay_form">
        <field name="name">All Overlays</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dm.overlay</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="view_dm_overlay_tree"/>
    </record>
    <menuitem id="menu_action_dm_overlay_form" parent="dm.menu_dm_config_campaign" action="action_dm_overlay_form"/>

    <record model="ir.actions.act_window" id="action_campaign_dealer_form">
        <field name="name">All Dealers</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">res.partner</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="base.view_partner_tree"/>
        <field name="domain">[('category_id','like','Dealer')]</field>
        <field name="context">{'category':'Dealer'}</field>
    </record> 

    <menuitem id="menu_action_campaign_dealer_form" parent="dm.menu_dm_config_campaign" action="action_campaign_dealer_form"/>

    <record model="ir.actions.act_window" id="action_campaign_broker_form">
        <field name="name">All Customers Lists Brokers</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">res.partner</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="base.view_partner_tree"/>
        <field name="domain">[('category_id','like','Broker')]</field>
        <field name="context">{'category':'Broker'}</field>
    </record>

    <menuitem id="menu_action_campaign_broker_form" parent="dm.menu_dm_config_custlist_list" action="action_campaign_broker_form" sequence="1"/>

    <record model="ir.actions.act_window" id="action_campaign_duplicator_form">
        <field name="name">All Deduplicators</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">res.partner</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="base.view_partner_tree"/>
        <field name="domain">[('category_id','like','Deduplicator')]</field>
        <field name="context">{'category':'Deduplicator'}</field>
    </record>
    <menuitem id="menu_action_campaign_duplicator_form" parent="dm.menu_dm_config_custlist_list" action="action_campaign_duplicator_form" sequence="4"/>

    <!--
    =======================================================
    CUSTOMERS LIST
    =======================================================
    -->

    <record model="ir.ui.view" id="view_dm_customers_list_form">
        <field name="name">dm.customers_list.form</field>
        <field name="model">dm.customers_list</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Customer List">
                <separator string="Customers List Description" colspan="4"/>
                <field name="name" select="1"/>
                <field name="code" select="2"/>
                <group colspan="2" col="2">
                    <separator string="General" colspan="2"/>
                    <field name="product_id" select="1"/>
                    <field name="media_id" select="1"/>
                    <field name="owner_id" select="1"/>
                    <field name="broker_id" select="1"/>
                    <field name="country_id" select="1"/>
                    <field name="currency_id" select="2"/>
                    <separator string="" colspan="2"/>
                    <field name="list_type_id" select="2"/>
                    <field name="recruiting_origin_id" select="2"/>
                    <field name="update_frq" select="2"/>
                </group>
                <group colspan="2" col="2">
                    <separator string="Costs" colspan="2"/>
                    <field name="per_thousand_price" select="2"/>
                    <field name="delivery_cost" select="2"/>
                    <field name="selection_cost" select="2"/>
                    <field name="broker_discount" select="2"/>
                    <field name="other_cost" select="2"/>
                    <separator string="" colspan="2"/>
                    <field name="invoice_base" select="2"/>
                    <field name="broker_cost" select="2"/>
                </group>
                <group colspan="4">
                    <separator string="Descrition" colspan="4"/>
                    <field name="notes" colspan="4" nolabel="1" widget="text_wiki"/>
                </group>
            </form>
        </field>
    </record>

    <record model="ir.ui.view" id="view_dm_customers_list_tree">
        <field name="name">dm.customers_list.tree</field>
        <field name="model">dm.customers_list</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Customer Lists">
                <field name="name"/>
                <field name="code"/>
                <field name="broker_id"/>
                <field name="country_id"/>
            </tree>
        </field>
    </record>

    <record model="ir.actions.act_window" id="action_dm_customers_list">
        <field name="name">All Customers Lists</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dm.customers_list</field>
        <field name="view_type">form</field>
        <field name="view_id" ref="view_dm_customers_list_tree"/>
    </record>

    <menuitem id="menu_action_dm_customers_list" parent="dm.menu_dm_config_custlist_list" action="action_dm_customers_list" sequence="3"/>

    <!--
    =======================================================
    CUSTOMERS LIST TYPE
    =======================================================
    -->

    <record model="ir.ui.view" id="view_dm_customers_list_type_form">
        <field name="name">dm.customers_list.type.form</field>
        <field name="model">dm.customers_list.type</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Customer List Type">
                <separator string="Customers List Type Description" colspan="4"/>
                <field name="name" select="1"/>
                <field name="code" select="2"/>
            </form>
        </field>
    </record>

    <record model="ir.ui.view" id="view_dm_customers_list_type_tree">
        <field name="name">dm.customers_list.type.tree</field>
        <field name="model">dm.customers_list.type</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Customer List Type">
                <field name="name"/>
                <field name="code"/>
            </tree>
        </field>
    </record>

    <record model="ir.actions.act_window" id="action_dm_customers_list_type">
        <field name="name">All Customers Lists Types</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dm.customers_list.type</field>
        <field name="view_type">form</field>
        <field name="view_id" ref="view_dm_customers_list_type_tree"/>
    </record>

    <menuitem id="menu_action_dm_customers_list_type" parent="dm.menu_dm_config_custlist_list" action="action_dm_customers_list_type" sequence="2"/>

    <!--
    =======================================================
    CUSTOMERS LIST RECRUITING ORIGIN
    =======================================================
    -->

    <record model="ir.ui.view" id="view_dm_customers_list_recruit_origin_form">
        <field name="name">dm.customers_list.recruit_origin.form</field>
        <field name="model">dm.customers_list.recruit_origin</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Customer List Recruiting Origin">
                <separator string="Customers List Recruiting Origin Description" colspan="4"/>
                <field name="name" select="1"/>
                <field name="code" select="2"/>
            </form>
        </field>
    </record>

    <record model="ir.ui.view" id="view_dm_customers_list_recruit_origin_tree">
        <field name="name">dm.customers_list.recruit_origin.tree</field>
        <field name="model">dm.customers_list.recruit_origin</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Customer Lists Recruiting Origin">
                <field name="name"/>
                <field name="code"/>
            </tree>
        </field>
    </record>

    <record model="ir.actions.act_window" id="action_dm_customers_list_recruit_origin">
        <field name="name">All Customers Lists Recruiting Origins</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dm.customers_list.recruit_origin</field>
        <field name="view_type">form</field>
        <field name="view_id" ref="view_dm_customers_list_recruit_origin_tree"/>
    </record>

    <menuitem id="menu_action_dm_customers_list_recruit_origin" parent="dm.menu_dm_config_custlist_list" action="action_dm_customers_list_recruit_origin" sequence="0"/>

    <!--
        =======================================================
        customer file source
         =======================================================
    -->
<!--
    <record model="ir.ui.view" id="dm_customers_file_source_form">
        <field name="name">dm.customers_file.source.form</field>
        <field name="model">dm.customers_file.source</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Customer File Source">
                <field name="name" select="1"/>
                <field name="code" select="1"/>
                <field name="desc" select="1"/>
            </form>
        </field>
    </record>
    
    <record model="ir.ui.view" id="view_dm_customers_file_source_tree">
        <field name="name">dm.customers_file.source.tree</field>
        <field name="model">dm.customers_file.source</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Customer File Sources">
                <field name="name" />
                <field name="code" />
            </tree>
        </field>
    </record>
    
    <record model="ir.actions.act_window" id="action_dm_customers_file_source_form">
        <field name="name">All Customer File Sources</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dm.customers_file.source</field>
        <field name="view_type">form</field>
        <field name="view_id" ref="view_dm_customers_file_source_tree"/>
    </record>


    <menuitem id="menu_action_view_dm_customers_file_source_form" parent="dm.menu_dm_config_custlist" action="action_dm_customers_file_source_form"/>
-->
    <!--
    =======================================================
    CUSTOMERS FILE
    =======================================================
    -->

    <record model="ir.ui.view" id="view_dm_customers_file_form">
        <field name="name">dm.customers_file.form</field>
        <field name="model">dm.customers_file</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Customer File">
                <notebook>
                    <page string="General">
                    <separator string="Customers File Description" colspan="4"/>
                    <field name="name" select="1"/>
                    <field name="code" select="2"/>
<!--                    <field name="customers_list_id" select="1"/>-->
                    <field name="delivery_date"  string="Extraction Date" select="1"/>
                    <separator string="Description" colspan="4"/>
                    <field name="note" colspan="4" nolabel="1"/>
                    </page>
                    <page string="Addresses">
                        <separator string="Addresses Source" colspan="4"/>
                        <field name="source" />
                        <group colspan="4" attrs="{'invisible':[('source','!=','address_id')]}">
                            <separator string="Partner Addresses" colspan="4"/>
                            <field name="address_ids" colspan="4" nolabel="1"/>
                        </group>
                    </page>
                    <page string="Segments">
                        <field name="segment_ids" colspan="4" nolabel="1">
                        <form>
                            <field name="name" string="Name" select="1"/>
                            <field name="code1" string="Code"/>
                            <field name="proposition_id" />
                            <field name="active" />
                            <newline/>
                            <field name="split_id" />
                            <field name="reuse_id" />
                            <field name="start_census"/>
                            <field name="end_census"/>
                            <field name="deduplication_level"/>
                            <field name="note" colspan="4" widget="text_wiki"/>
                        </form>
                        <tree string="Segments">
                            <field name="name" string="Name"/>
                            <field name="code1" string="Code"/>
                        </tree>
                        </field>
                    </page>
                </notebook>
            </form>
        </field>
    </record>

    <record model="ir.ui.view" id="view_dm_customers_file_tree">
        <field name="name">dm.customers_file.tree</field>
        <field name="model">dm.customers_file</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Customer Files">
                <field name="name"/>
                <field name="code"/>
                <field name="customers_list_id"/>
                <field name="delivery_date"/>
            </tree>
        </field>
    </record>

    <record model="ir.actions.act_window" id="action_dm_customers_file">
        <field name="name">All Customers Files</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dm.customers_file</field>
        <field name="view_type">form</field>
        <field name="view_id" ref="view_dm_customers_file_tree"/>
    </record>

    <menuitem id="menu_action_dm_customers_file" parent="dm.menu_dm_config_custlist_file" action="action_dm_customers_file"/>


<!--
    =======================================================
        OVERLAY PAYMENT RULE
    =======================================================
    -->
<!--
    <record model="ir.ui.view" id="view_overlay_payment_rule_form">
        <field name="name">dm.overlay.payment_rule.form</field>
        <field name="model">dm.overlay.payment_rule</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Overlay Payment">
                <field name="journal_id" select="1"/>
                <field name="move" select="1"/>
                <field name="currency_id" />
                <field name="country_id" />
                <field name="account_id" />
                <field name="country_default" select="1"/>
            </form>
        </field>
    </record>

    <record model="ir.ui.view" id="view_overlay_payment_rule_tree">
        <field name="name">dm.overlay.payment_rule.tree</field>
        <field name="model">dm.overlay.payment_rule</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Overlay Payment">
                <field name="journal_id" select="1"/>
                <field name="move" select="1"/>
                <field name="currency_id" />
                <field name="country_id" />
                <field name="account_id" />
                <field name="country_default"/>
            </tree>
        </field>
    </record>

    <record model="ir.actions.act_window" id="action_overlay_payment_rule_form">
        <field name="name">Overlay Payment Rule</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dm.overlay.payment_rule</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="view_overlay_payment_rule_tree"/>
    </record>

    <menuitem id="menu_action_overlay_payment_rule_form" parent="dm.menu_dm_config_campaign" action="action_overlay_payment_rule_form"/>

-->
    <!--
    =======================================================
        RELATES
    =======================================================
    -->

    <act_window name="Commercial Propositions"
        res_model="dm.campaign.proposition"
        src_model="dm.campaign"
        view_type="form"
        view_mode="tree,form"
        id="act_campaing_proposition_opened"
        domain="[('camp_id','=',active_id)]"
        context="{'camp_id':active_id}"
    />

    <act_window name="Back To Campaign"
        res_model="dm.campaign"
        src_model="dm.campaign.proposition"
        view_type="form"
        view_mode="tree,form"
        id="act_campaign_opened"
        domain="[('proposition_ids','in',[active_id])]"
    />
    
</data>
</openerp>
