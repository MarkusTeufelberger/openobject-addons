<openerp>
    <data>

        <record id="view_mgmtsystem_nonconformity_filter" model="ir.ui.view">
                    <field name="name">mgmtsystem.nonconformity.filter</field>
                    <field name="model">mgmtsystem.nonconformity</field>
                    <field name="type">search</field>
                    <field name="arch" type="xml">
                        <search string="Nonconformity">
                                <group>
                                      <filter icon="terp-document-new" domain="[('state','=','open')]" string="Open" help="Open Nonconformities"/>
                                      <separator orientation="vertical"/>
                                      <filter icon="terp-camera_test" domain="[('state','=','closed')]" string="Closed" help="Closed Nonconformities"/>
                                      <separator orientation="vertical"/>
                                      <field name="date" select='1'/>
                                      <field name="name" select='1'/>
                                      <field name="employee_id" select='1'/>
                            </group>
                            <newline />
                            <group expand="0" string="Group By...">
                                    <filter string="User" icon="terp-personal" domain="[]" context="{'group_by':'author_user_id'}"/>
                                    <separator orientation="vertical"/>
                                    <filter string="Process" icon="terp-personal+" domain="[]" context="{'group_by':'mgmtsystem_nonconformity_process_id'}"/>
                            </group>
                        </search>
                    </field>
            </record>        

            <record id="view_mgmtsystem_nonconformity_form" model="ir.ui.view">
            <field name="name">mgmtsystem.nonconformity.form</field>
            <field name="type">form</field>
            <field name="model">mgmtsystem.nonconformity</field>
            <field name="arch" type="xml">
                <form string="Nonconformity">
                    <group colspan="4" col="6">
                        <field name="date"/>
                        <field name="partner_id"/>
                        <field name="reference"/>
                        <field name="responsible_user_id"/>
                        <field name="manager_user_id"/>
                        <field name="author_user_id"/>
                    </group>
                    <notebook colspan="4">
                        <page string="Origin">
                            <newline/>
                            <field colspan="4" name="origin_ids" nolabel="1">
                                <form string="Origins">
                                    <group col="6" colspan="4">
                                       <field name="origin_id"/>
                                       <field name="name" colspan="4"/>
                                    </group>
                                </form>
                            </field>
                        </page>
                    </notebook>
                </form>
            </field>
            </record>

    </data>
</openerp>
