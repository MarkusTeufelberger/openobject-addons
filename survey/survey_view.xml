<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
    	<menuitem name="Survey Management" id = "main_menu_survey" icon="terp-crm" sequence="1"/>
    	<menuitem name="Configuration" id = "menu_survey_config" parent = "main_menu_survey" />
<!--    	<menuitem name="Reports" id = "menu_survey_reports" parent = "main_menu_survey"/>-->
		<menuitem name="Action" id = "menu_survey_action" parent = "main_menu_survey" />

	    <!--
			Survey
		-->
		<record model="ir.ui.view" id="survey_form">
			<field name="name">survey_form</field>
			<field name="model">survey</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="Survey">
					<field name="title" select = "1"/>
					<notebook>
                        <page string="Survey">
                        	<field name="date_open" select = "1"/>
                        	<field name="date_close" select = "2"/>
                        	<field name="responsible_id"/>
                        	<field name="max_response_limit" select = "1"/>
							<field name="page_ids" colspan = "4" nolabel = "1">
								<form string="Survey Page">
									<field name="title" colspan = "4" select = "1"/>
									<field name="sequence" />
									<separator string="Description" colspan="4"/>
									<field name="note" colspan = "4" nolabel="1"/>
									<field name="question_ids" colspan="4" nolabel="1">
									<form string="Survey Question">
										<field name="question" colspan = "4" select = "1"/>
										<field name="sequence"/>
										<field name="is_require_answer" select = "1" />
										<field name="allow_comment" select = "2"/>
										<field name="tot_resp" select = "2"/>
										<notebook  colspan="4">
					                        <page string="Answer">
												<field name="answer_choice_ids" nolabel="1" colspan="4"/>
											</page>
											 <page string="Response">
												<field name="response_ids" nolabel="1" colspan="4" />
											</page>
										</notebook>
									</form>			
									<tree string = "Survey Question">
										<field name="sequence" string="Seq"/>
										<field name="question" colspan = "4" select = "1"/>
										<field name="answer_choice_ids" />
										<field name="response_ids" />
									</tree>
									</field>
								</form>		
							</field>
							<group col="6" colspan="4">
								<field name="state"/>
								<button name="survey_draft" string="Set to draft" states="cancel,close" type ="object" icon="gtk-new"/>
								<button name="survey_open" string="Open" states="draft" type ="object"  icon="gtk-go-forward"/>
								<button name="survey_close" string="Close" states="open" type ="object" icon="gtk-close"/>
							    <button name="survey_cancel" string="Cancel" states="open" type ="object" icon="gtk-cancel"/>
                        	</group>
                        </page>
                    </notebook>
				</form>			          
			</field>			
		</record>
		<record model ="ir.ui.view" id= "survey_tree">
			<field name="name">survey_tree</field>
			<field name="model">survey</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Survey">
					<field name="title" select = "1"/>
					<field name="date_open" select = "1"/>
					<field name="date_close" select = "2"/>
					<field name="max_response_limit" select = "1"/>
					<field name="responsible_id"/>
					<field name="state" select = "2"/>
				</tree>			          
			</field>			
		</record>
		<record model="ir.actions.act_window" id="action_survey_form1">
			<field name="name">All Surveys</field>
			<field name="res_model">survey</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="view_id" ref="survey_tree"></field>
		</record>
		<menuitem name="Surveys" id = "menu_survey_form" action="action_survey_form1" parent = "menu_survey_config"/>	
		
		<record model="ir.actions.act_window" id="action_new_survey_form1">
			<field name="name">New Survey</field>
			<field name="res_model">survey</field>
			<field name="view_type">form</field>
			<field name="view_mode">form</field>
			<field name="view_id" ref="survey_form"></field>
		</record>
		<menuitem name="New Survey" id = "menu_new_survey_form" action="action_new_survey_form1" parent = "menu_survey_form"/>	
	
	    <!--
			Survey Pages
		-->
		<record model ="ir.ui.view" id= "survey_page_form">
			<field name="name">survey_page_form</field>
			<field name="model">survey.page</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="Survey Page">
					<field name="title" colspan = "4" select = "1"/>
					<field name="survey_id"/>
					<field name="sequence" />
					<separator string="Description" colspan="4"/>
					<field name="note" colspan = "4" nolabel="1"/>
					<field name="question_ids" colspan="4" nolabel="1">
					<form string="Survey Question">
						<field name="question" colspan = "4" select = "1"/>
						<field name="sequence"/>
						<field name="is_require_answer" select = "1" />
						<field name="allow_comment" select = "2"/>
						<field name="tot_resp" select = "2"/>
						<notebook  colspan="4">
	                        <page string="Answer">
								<field name="answer_choice_ids" nolabel="1" colspan="4"/>
							</page>
							 <page string="Response">
								<field name="response_ids" nolabel="1" colspan="4" />
							</page>
						</notebook>
					</form>			
					<tree string = "Survey Question">
						<field name="sequence" string="Seq"/>
						<field name="question" colspan = "4" select = "1"/>
						<field name="answer_choice_ids" />
						<field name="response_ids" />
					</tree>
					</field>
				</form>			          
			</field>			
		</record>
		<record model ="ir.ui.view" id= "survey_page_tree">
			<field name="name">survey_page_tree</field>
			<field name="model">survey.page</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Survey Page">
					<field name="sequence"  string="Seq"/>
					<field name="title"/>
					<field name="question_ids" string="#Questions"/>
				</tree>			          
			</field>			
		</record>
		<record model="ir.actions.act_window" id="action_survey_page_form">
			<field name="name">All Survey Pages</field>
			<field name="res_model">survey.page</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="view_id" ref="survey_page_tree"></field>
		</record>
		<menuitem name="Survey Pages" id = "menu_survey_page_form1" action="action_survey_page_form" parent = 'menu_survey_config'/>	

		<record model="ir.actions.act_window" id="action_new_survey_page_form">
			<field name="name">New Survey Page</field>
			<field name="res_model">survey.page</field>
			<field name="view_type">form</field>
			<field name="view_mode">form</field>
			<field name="view_id" ref="survey_page_form"></field>
		</record>
		<menuitem name="New Survey Page" id = "menu_new_survey_page_form1" action="action_new_survey_page_form" parent = 'menu_survey_page_form1'/>	

	    <!--
			Survey Question
		-->
		<record model ="ir.ui.view" id= "survey_question_form">
			<field name="name">survey_question_form</field>
			<field name="model">survey.question</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="Survey Question">
					<field name="question" colspan = "4" select = "1"/>
					<field name="page_id"/>
					<field name="sequence"/>
					<field name="is_require_answer" select = "1" />
					<field name="allow_comment" select = "2"/>
					<field name="tot_resp" select = "2"/>
					<notebook  colspan="4">
                        <page string="Answer">
							<field name="answer_choice_ids" nolabel="1" colspan="4"/>
						</page>
						 <page string="Response">
							<field name="response_ids" nolabel="1" colspan="4" />
						</page>
					</notebook>
				</form>			          
			</field>			
		</record>
		<record model ="ir.ui.view" id= "survey_question_tree">
			<field name="name">survey_question_tree</field>
			<field name="model">survey.question</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Survey Question">
					<field name="question" colspan = "4" select = "1"/>
					<field name="sequence"  string="Seq"/>
					<field name="is_require_answer" select = "1"/>
					<field name="page_id"/>					
					<field name="allow_comment" select = "2"/>
					<field name="tot_resp" select = "2"/>
				</tree>			          
			</field>			
		</record>

		<record model="ir.actions.act_window" id="action_survey_question_form">
			<field name="name">All Survey Questions</field>
			<field name="res_model">survey.question</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="view_id" ref="survey_question_tree"></field>
		</record>
		<menuitem name="Survey Questions" id = "menu_survey_question_form1" action="action_survey_question_form" parent = 'menu_survey_config'/>	

		<record model="ir.actions.act_window" id="action_new_survey_question_form">
			<field name="name">New Survey Question</field>
			<field name="res_model">survey.question</field>
			<field name="view_type">form</field>
			<field name="view_mode">form</field>
			<field name="view_id" ref="survey_question_form"></field>
		</record>
		<menuitem name="New Survey Question" id = "menu_new_survey_question_form1" action="action_new_survey_question_form" parent = 'menu_survey_question_form1'/>	


	    <!--
			Survey Answer
		-->
		<record model ="ir.ui.view" id= "survey_answer_form">
			<field name="name">survey_answer_form</field>
			<field name="model">survey.answer</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="Survey Answer">
					<field name="answer" colspan = "4" select = "1"/>
					<field name="sequence"/>
					<field name="response"/>
					<field name="average"/>
				</form>			          
			</field>			
		</record>
		<record model ="ir.ui.view" id= "survey_answer_tree">
			<field name="name">survey_answer_tree</field>
			<field name="model">survey.answer</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Survey Answer">
					<field name="sequence"  string="Seq"/>
					<field name="answer" select = "1"/>
					<field name="response"/>
					<field name="average"/>
				</tree>			          
			</field>			
		</record>
		
	    <!--
			Survey Response
		-->
		<record model ="ir.ui.view" id= "survey_response_form">
			<field name="name">survey_response_form</field>
			<field name="model">survey.response</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="Survey Response">
				<field name="response_id"/>
				<field name="date_create" select = "1"/>
				<field name="date_modify" select = "2"/>
				<field name="response_type" select = "1"/>
				<notebook colspan="4">
					<page string="Response">
						<field name="response_answer_ids" colspan = "4" nolabel="1"/>
						<group col="5" colspan="4">
							<field name="state"/>
							<button name="response_draft" string="Set to draft" states="done,skip" type ="object" icon="gtk-new"/>
							<button name="response_done" string="Done" states="draft" type ="object"  icon="gtk-go-forward"/>
							<button name="response_skip" string="Skip" states="draft" type ="object" icon="gtk-close"/>
	                   	</group>
					</page>
					<page string="Comment">
						<separator string="Description" colspan="4"/>
						<field name="comment" nolabel = "1" colspan="4"/>
					</page>
				</notebook>
				</form>			          
			</field>			
		</record>
		<record model ="ir.ui.view" id= "survey_response_tree">
			<field name="name">survey_response_tree</field>
			<field name="model">survey.response</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Survey Response">
					<field name="response_id"/>
					<field name="response_type" select = "1"/>
					<field name="date_create" select = "1"/>
					<field name="date_modify" select = "2"/>
					<field name="state"/>
				</tree>			          
			</field>			
		</record>

	    <!--
			Survey Response Answer
		-->
		<record model ="ir.ui.view" id= "survey_response_answer_form">
			<field name="name">survey_response_answer_form</field>
			<field name="model">survey.response.answer</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="Survey Response Answer">
					<field name="answer_id"/>
				</form>			          
			</field>			
		</record>
		<record model ="ir.ui.view" id= "survey_response_answer_tree">
			<field name="name">survey_response_answer_tree</field>
			<field name="model">survey.response.answer</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Survey Response Answer">
					<field name="answer_id"/>
				</tree>			          
			</field>			
		</record>

	    <!--
			res.users
		-->
	    <record id="view_res_user_form" model="ir.ui.view">
			<field name="name">view.res.users.form</field>
			<field name="model">res.users</field>
			<field name="inherit_id" ref="base.view_users_form"/>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<notebook>
					<page string="Survey">
						<field name="survey_id" nolabel="1"/>
					</page>
				</notebook>
			</field>
		</record>
	</data>
</openerp>